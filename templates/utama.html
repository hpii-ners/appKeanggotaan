{% extends "base_public.html" %}

{% block content %}
<div class="animate__animated animate__fadeIn">
    {% if data %}
    {% set headline = data[0] %}
    <div class="card border-0 shadow-sm rounded-4 overflow-hidden mb-5">
        <img src="{{ url_for('static', filename='uploads/' + headline.path_image) if headline.path_image else 'https://placehold.co/800x400' }}" 
             class="card-img-top" style="height: 450px; object-fit: cover;" alt="{{ headline.judul }}">
        <div class="card-body p-4 p-lg-5">
            <span class="badge bg-primary rounded-pill mb-3" style="font-size: 0.65rem;">HEADLINE</span>
            <h2 class="fw-800 mb-3"><a href="{{ url_for('berita.detail', id=headline.id) }}" class="text-decoration-none text-dark">{{ headline.judul }}</a></h2>
            <p class="text-muted">{{ headline.isi[:250] | striptags }}...</p>
            <a href="{{ url_for('berita.detail', id=headline.id) }}" class="btn btn-primary rounded-pill px-4 fw-bold">Baca Selengkapnya</a>
        </div>
    </div>

    <div class="row">
        <div class="col-12"><div class="section-title">Arsip Berita</div></div>
        {% for item in data[1:] %}
        <div class="col-md-6 mb-4">
            <div class="card border-0 shadow-sm rounded-4 h-100 p-2">
                <img src="{{ url_for('static', filename='uploads/' + item.path_image) if item.path_image else 'https://placehold.co/400x250' }}" 
                     class="rounded-4 mb-3" style="height: 180px; object-fit: cover;" alt="{{ item.judul }}">
                <div class="px-2 pb-2">
                    <h6 class="fw-bold"><a href="{{ url_for('berita.detail', id=item.id) }}" class="text-decoration-none text-dark">{{ item.judul }}</a></h6>
                    <small class="text-muted d-block mb-2">{{ item.tanggal.strftime('%d %b %Y') }}</small>
                    <p class="text-muted small mb-0">{{ item.isi[:80] | striptags }}...</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}